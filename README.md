# Scrauto
source for Scrauto service

# 概要

このサイト（[https://scrauto.jp/](https://scrauto.jp/)）は、PDFファイルを自動でスクロールする機能を持っている。自分のパソコンからファイルを選択すると、ファイルがスクロールできるようになる。画面クリックでスクロールのON, OFFの切り替えが可能。スクロール速度やスクロール範囲の設定も可能。

# 目的

本サイトは、楽器演奏時に楽譜をめくる手間を省くことを目的として作成されたものである。このサイトを用いることで、両手を使って楽器演奏を行っていても、演奏している部分を常に表示することができる。今回、自分が利用することを目的としてサイトの作成を行ったが、現在、多くの人に利用してもらうことを目的においてサイトの改善を行っている。

# 使い方

まず、ローカルファイルから任意のPDFファイルを選択する。選択されたPDFファイルは次のページで表示される。

表示されたPDFファイルをクリックすると、ファイルが自動で下方向にスクロールされる。

右下の円にあるつまみの位置をドラッグすることで、スクロールの速度を変更できる。

ページの右端のスクロールバーの上下両端の図形を動かすことで、スクロールする範囲を選択することができる。

過去に使用したファイルはトップページから選択することができる。

# システム構成図
![scrauto システム構成図](https://user-images.githubusercontent.com/118455172/206918095-d50e89c4-3b3f-4e9f-9233-61a798622139.jpg)

# こだわったポイント

自動スクロールの動作を行うコードが、最もこだわったポイントといって良いかもしれない。なぜなら、自動スクロールを快適に使えないと、サイトの利用価値そのものがなくなってしまうからだ。自動スクロールに求められた機能として、１．スクロールON, OFF切り替え、２．通常のマウスホイールを用いたスクロールの併用、３．スクロールの速度と範囲の変更、が挙げられた。

以下が実際に自動スクロール機能の実装に使用しているソースコードとなる。

```
const scrollAnime = () => {
    window.scroll(0, scrollPosition)
    scrollPosition = scrollPosition + scrollSpeed
    scrollAnimeElem = setTimeout(scrollAnime, 33)
}
```

このコード自体はたったの5行だが、この5行のコードにたどり着くのに3週間を要した。この方法では、上記の１~３の機能をすべて実装することができる。

参考までに、この方法以外だと、cssのアニメーション、jQueryのアニメーションを利用を試みた。ただ、これらの方法では上記の２の機能を実装することはできず、利用を断念した。
